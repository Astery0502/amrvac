<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>
<meta content="text/html; charset=ISO-8859-1" http-equiv="content-type"><title>mpi_amrvac_pointgrav</title></head>
<body>
<div style="text-align: center;">
<div style="margin-left: 40px;"><big><big><span style="font-weight: bold;"><span style="color: red;"></span></span></big></big>
<hr style="width: 100%; height: 2px;"><big><big><big><span style="font-weight: bold;"><span style="color: red;">Point
source gravity for AMRVAC</span></span></big></big></big><br style="color: red;">
<big><big><span style="font-weight: bold;"></span></big></big></div>
<hr style="width: 100%; height: 2px; margin-left: 40px;">
<div style="text-align: left;">
<div style="margin-left: 40px;">A short description of a
point source gravity module for AMRVAC<br>
<br>
<big style="color: red;"><span style="font-weight: bold;"></span></big></div>
<div style="text-align: center;">
<hr style="width: 100%; height: 2px; margin-left: 40px;">
<div style="text-align: left;">
<div style="text-align: center;">
<div style="text-align: center;">
<div style="margin-left: 40px;">
<div style="text-align: center;"><big><big><span style="color: red;"><span style="font-weight: bold;">Structure
and Use</span></span></big></big><br>
<hr style="width: 100%; height: 2px;">
<div style="text-align: left;">The gravitational point
source routine consists of the file, <span style="color: red;">amrvacusr.pointgrav.t<span style="color: black;">, &nbsp;which contains a single
subroutine <span style="color: red;">pointgrav<span style="color: black;">. Ths routine has to be called from
the <span style="color: red;">addsourceusr</span></span></span></span></span><span style="color: red;"><span style="color: black;"><span style="color: red;"><span style="color: black;">subroutine.
It calculates the vector components of the gravitational acceleration
&nbsp;according to Newton's equation:</span></span></span></span><br>
<span style="color: red;"><span style="color: black;"><span style="color: red;"><span style="color: black;"><br>
dv/dt = -GM/R²<br>
<br>
The routine will work in 1, 2 and 3D and in slab, spherical and
cylindrical coordinate systems.<br>
<br>
In order to use the pointsource gravity module, the user has to do the
following:<br>
<br>
1) in the usr file, <br>
add the line &nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; <span style="font-style: italic;"><br>&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;INCLUDE:&nbsp;amrvacusr.pointsource.t </span><br>
put a call to pointgrav in addsource usr<br>
</span></span></span></span><span style="font-style: italic;"><span style="font-style: italic;"></span></span><br>
<br>
3) in the par-file add in <span style="color: red;">methodlist</span>
the following parameters:<br>
<span style="color: red;">ptmass</span>: the mass of
the point source, multiplied by newton's gravity constant (scaled).<br>
<span style="color: red;">x1ptms</span>: x1
coordinate of the point source<br>
<span style="color: red;">x1ptms</span>: x1
coordinate of the point source (only in 2D/3D)<br>
<span style="color: red;">x1ptms</span>: x1
coordinate of the point source (only in 3D)<br>
<br>
NB: The point source must be in the same &nbsp;dimension as the
simulation itself, but does not have to be inside the grid.<span style="font-style: italic;"><span style="font-style: italic;"></span></span></div>
</div>
</div>
</div>
</div>
<small><span style="font-weight: bold;"></span></small></div>
<small><span style="font-weight: bold;"></span></small></div>
<big><big><span style="font-weight: bold;"></span></big></big></div>
<big><big><span style="font-weight: bold;"></span></big></big></div>
</body></html>